# YouTube学習支援Chrome拡張機能 - 開発計画

## プロジェクト概要
YouTube動画を見ながら、わからない単語や概念をその場でChatGPTに質問できる学習支援拡張機能

## MVP（最小実行可能プロダクト）の定義
1. YouTube動画の字幕/文字起こしを取得
2. 字幕をクリック可能なUIとして表示
3. クリックした単語/フレーズについてChatGPTに質問
4. 回答をポップアップで表示

## 開発フェーズ

### Phase 1: 基礎構築（1-2日）
- [ ] Chrome拡張機能の基本構造作成
- [ ] TypeScript + React環境構築
- [ ] Manifest V3設定
- [ ] 開発環境の整備（ビルドツール、ホットリロード）

### Phase 2: YouTube統合（2-3日）
- [ ] YouTube動画ページの検出
- [ ] 字幕データの取得方法調査・実装
  - YouTube API利用
  - DOM解析によるフォールバック
- [ ] 字幕の同期表示テスト

### Phase 3: インタラクティブUI（3-4日）
- [ ] 字幕オーバーレイコンポーネント作成
- [ ] クリック可能な単語/フレーズのハイライト
- [ ] 選択範囲の検出と処理
- [ ] アニメーション付きポップアップ

### Phase 4: AI統合（2-3日）
- [ ] ChatGPT API接続設定
- [ ] 質問生成ロジック（文脈を含む）
- [ ] レスポンス処理とフォーマット
- [ ] エラーハンドリング

### Phase 5: ユーザー体験向上（2-3日）
- [ ] 設定画面（APIキー、言語設定など）
- [ ] 学習履歴の保存・表示
- [ ] キーボードショートカット
- [ ] ダークモード対応

### Phase 6: 最適化と公開準備（1-2日）
- [ ] パフォーマンス最適化
- [ ] Chrome Web Store用アセット作成
- [ ] ドキュメント作成
- [ ] テスト実施

## 技術的な課題と解決策

### 1. 字幕データの取得
**課題**: YouTubeの字幕APIは制限がある
**解決策**: 
- 優先順位1: YouTube Data API v3
- 優先順位2: DOM解析による取得
- 優先順位3: サードパーティAPI

### 2. ChatGPT API利用
**課題**: APIキーの安全な管理
**解決策**: 
- ユーザー自身のAPIキーを使用
- ローカルストレージで暗号化保存
- オプション：プロキシサーバー経由

### 3. UIの邪魔にならない表示
**課題**: 動画視聴を妨げない
**解決策**: 
- 半透明オーバーレイ
- ドラッグ可能なウィンドウ
- 自動非表示オプション

## 成功指標
1. 字幕の95%以上を正確に取得
2. クリックから回答表示まで3秒以内
3. 動画再生パフォーマンスへの影響5%未満
4. ユーザー満足度80%以上

## リスクと対策
| リスク | 影響度 | 対策 |
|--------|--------|------|
| YouTube仕様変更 | 高 | 複数の取得方法を実装 |
| API制限 | 中 | キャッシュとレート制限 |
| 多言語対応 | 中 | 初期は日英のみ対応 |

## 次のアクション
1. プロジェクト構造の作成
2. 必要なnpmパッケージのインストール
3. 基本的なmanifest.jsonの作成
4. Hello World拡張機能の動作確認